<div class="dashboard-container">
  <h1 class="page-title">HR Dashboard</h1>
  
  <div *ngIf="isLoading; else content">
    <app-loading-spinner message="Loading dashboard..."></app-loading-spinner>
  </div>
  
  <ng-template #content>
    <div class="stats-grid">
      <mat-card class="stat-card">
        <mat-card-header>
          <mat-card-title>Employees</mat-card-title>
          <mat-icon mat-card-avatar>people</mat-icon>
        </mat-card-header>
        <mat-card-content>
          <div class="stat-value">{{stats.totalEmployees}}</div>
          <div class="stat-label">Total Employees</div>
        </mat-card-content>
      </mat-card>
      
      <mat-card class="stat-card">
        <mat-card-header>
          <mat-card-title>Departments</mat-card-title>
          <mat-icon mat-card-avatar>business</mat-icon>
        </mat-card-header>
        <mat-card-content>
          <div class="stat-value">{{stats.totalDepartments}}</div>
          <div class="stat-label">Active Departments</div>
        </mat-card-content>
      </mat-card>
      
      <mat-card class="stat-card">
        <mat-card-header>
          <mat-card-title>Candidates</mat-card-title>
          <mat-icon mat-card-avatar>how_to_reg</mat-icon>
        </mat-card-header>
        <mat-card-content>
          <div class="stat-value">{{stats.activeCandidates}}</div>
          <div class="stat-label">Active Candidates</div>
        </mat-card-content>
      </mat-card>
    </div>
    
    <div class="content-grid">
      <mat-card class="recent-hires">
        <mat-card-header>
          <mat-card-title>Recent Hires</mat-card-title>
          <mat-icon mat-card-avatar>person_add</mat-icon>
        </mat-card-header>
        <mat-card-content>
          <mat-list>
            <mat-list-item *ngFor="let employee of recentHires">
              <div mat-list-avatar app-avatar [name]="employee.firstName + ' ' + employee.lastName"></div>
              <div mat-line>{{employee.firstName}} {{employee.lastName}}</div>
              <div mat-line class="secondary-text">
                {{employee.position}} • Hired {{employee.hireDate | date}}
              </div>
            </mat-list-item>
            <mat-list-item *ngIf="recentHires.length === 0">
              <div mat-line>No recent hires found</div>
            </mat-list-item>
          </mat-list>
        </mat-card-content>
      </mat-card>
      
      <mat-card class="upcoming-interviews">
        <mat-card-header>
          <mat-card-title>Upcoming Interviews</mat-card-title>
          <mat-icon mat-card-avatar>event_available</mat-icon>
        </mat-card-header>
        <mat-card-content>
          <mat-list>
            <mat-list-item *ngFor="let candidate of upcomingInterviews">
              <div mat-list-avatar app-avatar [name]="candidate.firstName + ' ' + candidate.lastName"></div>
              <div mat-line>{{candidate.firstName}} {{candidate.lastName}}</div>
              <div mat-line class="secondary-text">
                <span class="status-badge {{getStatusClass(candidate.status)}}">
                  {{candidate.status}}
                </span>
                • {{candidate.interviewDate | date:'short'}}
              </div>
            </mat-list-item>
            <mat-list-item *ngIf="upcomingInterviews.length === 0">
              <div mat-line>No upcoming interviews</div>
            </mat-list-item>
          </mat-list>
        </mat-card-content>
      </mat-card>
    </div>
  </ng-template>
</div>
